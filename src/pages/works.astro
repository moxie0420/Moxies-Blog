---
import { getCollection } from "astro:content";
import Layout from "@layouts/Layout.astro";
import Card from "@components/Card.astro";
import { Image } from "astro:assets";

const allProjects = await getCollection("projects");
const pageTitle = "Works";
---

<Layout pageTitle={pageTitle}>
  <Image
    inferSize
    alt="Raccoon Laptop GIF"
    src="https://content.moxiege.com/public%2Flaptop.webp"
    class="mx-auto"
    loading="eager"
  />
  <h2
    class="font-sans underline underline-offset-4 text-5xl decoration-milky-300 mb-10 font-bold"
  >
    Projects
  </h2>

  <div
    class="sm:columns-2 lg:columns-3 gap-3 mx-auto break-after-column h-full p-5"
  >
    {
      allProjects.map((card) => (
        <Card
          url={`/projects/${card.slug}/`}
          alt={card.data.image.alt}
          image={card.data.image.url}
          title={card.data.title}
          body={card.data.description}
        />
      ))
    }
  </div>
</Layout>
